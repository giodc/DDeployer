# DDeployer - Complete Deployment Guide

## ğŸš€ What is DDeployer?

DDeployer is a high-performance Docker-based web hosting platform that allows you to easily deploy and manage WordPress, Laravel, and PHP applications with automatic SSL, caching, and optimization.

## âœ¨ Key Features

- **ğŸ”¥ High Performance**: FrankenPHP + Redis caching
- **ğŸ”’ Automatic SSL**: Let's Encrypt integration via Traefik
- **ğŸŒ Multi-Site Support**: WordPress, Laravel, PHP applications
- **ğŸ“Š Web Admin Panel**: Laravel-based management interface
- **ğŸ³ Docker Native**: Full containerization
- **âš¡ Optimized Stack**: Redis, MariaDB, performance tuned

## ğŸ“‹ Requirements

- **OS**: Ubuntu 20.04+ LTS
- **RAM**: 2GB minimum, 4GB recommended
- **Storage**: 20GB minimum
- **Network**: Public IP for SSL certificates
- **Domains**: For production SSL setup

## ğŸ›  Quick Installation

### Local Development
```bash
git clone <your-repository>
cd DDeployer
chmod +x install.sh
sudo ./install.sh --local
```

### Production Server
```bash
git clone <your-repository>
cd DDeployer
chmod +x install.sh
sudo ./install.sh --production
```

## ğŸ¯ Access Points

After installation:

| Service | URL | Purpose |
|---------|-----|---------|
| **Admin Panel** | `http://localhost:8080` | Main management interface |
| **Traefik Dashboard** | `http://localhost:8081` | Reverse proxy monitoring |
| **phpMyAdmin** | `http://localhost/phpmyadmin` | Database management |
| **Redis Commander** | `http://localhost/redis` | Cache monitoring |

## ğŸ” Default Credentials

```
Email: admin@ddeployer.local
Password: admin123
```

**âš ï¸ Change these immediately after first login!**

## ğŸ“ Project Structure

```
DDeployer/
â”œâ”€â”€ install.sh                 # Main installer script
â”œâ”€â”€ docker-compose.yml         # Core services configuration
â”œâ”€â”€ admin/                     # Laravel admin application
â”‚   â”œâ”€â”€ app/                   # Laravel application code
â”‚   â”œâ”€â”€ resources/views/       # Web interface templates
â”‚   â”œâ”€â”€ database/migrations/   # Database schema
â”‚   â””â”€â”€ Dockerfile            # Admin panel container
â”œâ”€â”€ templates/                 # Site type templates
â”‚   â”œâ”€â”€ wordpress/            # WordPress deployment template
â”‚   â”œâ”€â”€ laravel/              # Laravel deployment template
â”‚   â””â”€â”€ php/                  # Generic PHP template
â”œâ”€â”€ config/                   # Configuration files
â”‚   â””â”€â”€ mysql/                # Database optimization
â””â”€â”€ data/                     # Persistent data storage
    â”œâ”€â”€ sites/                # Individual site containers
    â”œâ”€â”€ mysql/                # Database files
    â”œâ”€â”€ redis/                # Cache data
    â””â”€â”€ letsencrypt/          # SSL certificates
```

## ğŸŒ Creating Your First Site

### 1. WordPress Site
1. Access admin panel at `http://localhost:8080`
2. Login with default credentials
3. Go to **Sites** â†’ **Create New Site**
4. Fill in details:
   - **Name**: `my-blog`
   - **Type**: WordPress
   - **Domain**: `blog.localhost` (local) or `blog.yourdomain.com` (production)
   - **Create Database**: âœ… Yes
   - **Enable SSL**: âœ… Yes (for production domains)
   - **Enable Caching**: âœ… Yes

### 2. Laravel Application
1. Create new site with type **Laravel**
2. Upload your Laravel application to `/opt/ddeployer/data/sites/site-name/app/`
3. Configure environment variables
4. Run migrations through the admin panel

### 3. PHP Application
1. Create new site with type **PHP**
2. Upload your PHP files to the site directory
3. Configure any required databases
4. Access your application

## ğŸ”§ Configuration Options

### Environment Variables
The installer creates a `.env` file with these key settings:

```bash
# Admin Panel
ADMIN_PORT=8080
APP_URL=http://localhost:8080

# Database
DB_PASSWORD=<auto-generated>
REDIS_PASSWORD=<auto-generated>

# Mode
LOCAL_MODE=true/false
PRODUCTION_MODE=true/false
```

### Site Configuration
Each site gets its own:
- Docker Compose configuration
- Database (optional)
- Redis cache (optional)
- SSL certificate (automatic)
- Custom PHP settings

## ğŸš€ Performance Optimizations

### Built-in Optimizations
- **FrankenPHP**: Modern PHP runtime with built-in server
- **Redis Caching**: Object and page caching for all sites
- **MariaDB Tuning**: Optimized database configuration
- **Gzip Compression**: Automatic compression via Traefik
- **HTTP/2**: Enabled by default with SSL

### Monitoring
- Real-time container status
- Resource usage monitoring
- Log viewing and analysis
- Performance metrics

## ğŸ”’ Security Features

- **Container Isolation**: Each site runs in its own container
- **Automatic SSL**: Let's Encrypt certificates with auto-renewal
- **Secure Defaults**: Hardened configurations
- **Access Control**: Admin authentication required
- **Regular Updates**: Easy update mechanism

## ğŸ“Š Management Features

### Web Interface
- **Dashboard**: System overview and statistics
- **Site Management**: Create, edit, delete sites
- **Real-time Monitoring**: Container status and logs
- **Database Access**: Integrated phpMyAdmin
- **Cache Management**: Redis monitoring

### Command Line
```bash
# Check status
systemctl status ddeployer

# View logs
cd /opt/ddeployer && docker-compose logs -f

# Restart services
systemctl restart ddeployer

# Update platform
git pull && sudo ./install.sh --production
```

## ğŸ”„ Backup and Recovery

### Automated Backups
```bash
# Backup script (add to cron)
#!/bin/bash
tar -czf /backups/ddeployer-$(date +%Y%m%d).tar.gz /opt/ddeployer/data/
```

### Manual Backup
```bash
# Backup all sites and databases
sudo tar -czf ddeployer-backup.tar.gz /opt/ddeployer/

# Backup specific site
sudo tar -czf site-backup.tar.gz /opt/ddeployer/data/sites/site-name/
```

## ğŸ› Troubleshooting

### Common Issues

**Site not accessible:**
```bash
# Check container status
docker ps --filter "name=site-"

# Check Traefik logs
docker logs ddeployer-traefik
```

**SSL certificate issues:**
```bash
# Check certificate generation
docker logs ddeployer-traefik | grep -i certificate

# Verify DNS pointing to server
nslookup yourdomain.com
```

**Database connection issues:**
```bash
# Check database container
docker logs site-name-db

# Test connection
docker exec site-name-db mysql -u username -p
```

## ğŸ“ˆ Scaling and Performance

### Vertical Scaling
- Increase server resources (CPU, RAM)
- Optimize database settings
- Tune Redis cache settings

### Horizontal Scaling
- Load balancer setup
- Database clustering
- CDN integration
- Multiple server deployment

## ğŸ”„ Updates and Maintenance

### Platform Updates
```bash
cd /opt/ddeployer
git pull
sudo ./install.sh --production
```

### Site Updates
- WordPress: Use WP-CLI or admin interface
- Laravel: Deploy through git or file upload
- PHP: Direct file replacement

### Security Updates
- Regular OS updates: `sudo apt update && sudo apt upgrade`
- Docker image updates: `docker-compose pull && docker-compose up -d`
- SSL certificate renewal: Automatic via Let's Encrypt

## ğŸ“ Support and Community

### Getting Help
1. Check the logs first
2. Review this documentation
3. Search existing issues
4. Create detailed bug reports
5. Join the community discussions

### Contributing
- Fork the repository
- Create feature branches
- Submit pull requests
- Report bugs and suggestions

## ğŸ‰ Success!

You now have a fully functional Docker-based web hosting platform! 

**Next Steps:**
1. Change default admin password
2. Create your first site
3. Configure DNS for production domains
4. Set up automated backups
5. Monitor performance and optimize

**Happy Hosting! ğŸš€**
